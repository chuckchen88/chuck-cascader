import{defineComponent as U,ref as b,resolveComponent as L,openBlock as f,createElementBlock as C,Fragment as D,createTextVNode as O,createVNode as R,computed as I,normalizeClass as P,normalizeStyle as w,createCommentVNode as S,watch as X,createElementVNode as y,renderList as Y,withModifiers as Z,toDisplayString as T,createBlock as z,pushScopeId as ee,popScopeId as le,withDirectives as oe,vShow as te,onMounted as ne,onBeforeUnmount as ce,createApp as ae}from"vue";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const v of r.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&s(v)}).observe(document,{childList:!0,subtree:!0});function c(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(l){if(l.ep)return;l.ep=!0;const r=c(l);fetch(l.href,r)}})();const de=U({__name:"App",setup(h){const a=b([]),c=b([]);function s(_=3,i=1,u=""){const m=[];for(let p=1;p<=12;++p)i===1?m.push({value:`v-${p}`,label:`l-${p}`,disabled:p%5===0,children:s(_,i+1,""+String(p))}):i===_?m.push({value:`v-${u}-${p}`,label:`l-${u}-${p}`,disabled:p%5===0}):m.push({value:`v-${u}-${p}`,label:`l-${u}-${p}`,disabled:p%5===0,children:s(_,i+1,`${u}-${p}`)});return m}c.value=s();const l=(_,i)=>{console.log(_),console.log(i)},r=()=>{console.log("点击了确认")},v=b(""),d=b(!0);return(_,i)=>{const u=L("ChuckSearch"),$=L("CheckBox"),m=L("RadioBox"),p=L("ChuckCascader");return f(),C(D,null,[O(" 搜索框： "),R(u,{modelValue:v.value,"onUpdate:modelValue":i[0]||(i[0]=V=>v.value=V)},null,8,["modelValue"]),O(" CheckBox: "),R($,{color:"#1989fa",modelValue:d.value,"onUpdate:modelValue":i[1]||(i[1]=V=>d.value=V),childChecked:!1,disabled:!1,"onUpdate:value":i[2]||(i[2]=V=>{})},null,8,["modelValue"]),O(" RadioBox: "),R(m,{color:"#1989fa",modelValue:d.value,"onUpdate:modelValue":i[3]||(i[3]=V=>d.value=V),disabled:!1,showNext:!0},null,8,["modelValue"]),O(" 级联： "),R(p,{options:c.value,multiple:!1,color:"#1989fa",title:"请选择",modelValue:a.value,"onUpdate:modelValue":i[4]||(i[4]=V=>a.value=V),"onUpdate:value":l,height:"250px",zIndex:9999,filterable:!0,onConfirm:r},null,8,["options","modelValue"])],64)}}});const se={key:0,class:"iconfont icon-success"},ue={key:1,class:"iconfont icon-minus"},re={name:"CheckBox"},ie=U({...re,props:{color:{},modelValue:{type:Boolean},childChecked:{type:Boolean},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","update:value"],setup(h,{emit:a}){const c=h,s=I(()=>c.modelValue||c.childChecked?c.color:"white"),l=I(()=>c.modelValue||c.childChecked?c.color:"#aaa"),r=()=>{if(c.disabled)return!1;a("update:modelValue",!c.modelValue),a("update:value",!c.modelValue)};return(v,d)=>(f(),C("div",{class:P(["checkbox",{disabled:v.disabled}]),style:w(`background-color:${s.value};outline:${l.value} solid 1px`),onClick:r},[v.modelValue&&!v.disabled?(f(),C("i",se)):S("",!0),v.childChecked&&!v.disabled?(f(),C("i",ue)):S("",!0)],6))}});const E=(h,a)=>{const c=h.__vccOpts||h;for(const[s,l]of a)c[s]=l;return c},j=E(ie,[["__scopeId","data-v-695cd852"]]),he={key:1,class:"iconfont icon-next"},pe={name:"RadioBox"},fe=U({...pe,props:{color:{},modelValue:{type:Boolean},disabled:{type:Boolean,default:!1},showNext:{type:Boolean,default:!1}},emits:["update:modelValue","update:value"],setup(h,{emit:a}){const c=h,s=()=>{if(c.disabled)return!1;a("update:modelValue",!c.modelValue),a("update:value",!c.modelValue)};return(l,r)=>(f(),C("div",{class:P(["radiobox",{disabled:l.disabled}]),onClick:s},[l.modelValue?(f(),C("i",{key:0,class:"iconfont icon-success",style:w(`color: ${l.color}`)},null,4)):S("",!0),!l.modelValue&&l.showNext?(f(),C("i",he)):S("",!0)],2))}});const q=E(fe,[["__scopeId","data-v-0491a2b3"]]),ve=["onClick"],me={name:"ChuckCascaderItem"},_e=U({...me,props:{multiple:{type:Boolean},activeId:{},depth:{},options:{},color:{},height:{}},emits:["checkChange"],setup(h,{emit:a}){const c=h,s=b(0),l=b(-1),r=(d,_)=>{if(_.disabled)return!1;s.value=-1,s.value=d,_.children||(_.checked=c.multiple?!_.checked:!0,a("checkChange",_))},v=d=>{a("checkChange",d)};return X(()=>c.options,d=>{d[s.value]||(s.value=0)},{immediate:!0,deep:!0}),(d,_)=>{const i=L("ChuckCascaderItem",!0);return f(),C(D,null,[y("div",{class:"cascaderList",style:w(`width:${100/d.depth}%;height:${d.height}`)},[(f(!0),C(D,null,Y(d.options,(u,$)=>(f(),C("div",{class:P(["cascaderItem",{active:$===s.value,disabled:u.disabled}]),key:$,onClick:Z(m=>r($,u),["self"])},[O(T(u.label)+" ",1),d.multiple?(f(),z(j,{key:0,color:d.color,modelValue:u.checked,"onUpdate:modelValue":m=>u.checked=m,childChecked:u.childChecked,disabled:u.disabled,"onUpdate:value":m=>v(u)},null,8,["color","modelValue","onUpdate:modelValue","childChecked","disabled","onUpdate:value"])):(f(),z(q,{key:1,color:d.color,modelValue:u.checked,"onUpdate:modelValue":m=>u.checked=m,disabled:u.disabled,showNext:u.children&&u.children.length>0},null,8,["color","modelValue","onUpdate:modelValue","disabled","showNext"]))],10,ve))),128))],4),s.value>-1&&d.options[s.value]&&d.options[s.value].children?(f(),z(i,{key:0,options:d.options[s.value].children??[],multiple:d.multiple,"active-id":l.value,depth:d.depth,onCheckChange:v,color:d.color,height:d.height},null,8,["options","multiple","active-id","depth","color","height"])):S("",!0)],64)}}});const ke=E(_e,[["__scopeId","data-v-68f94828"]]),Ce=h=>(ee("data-v-bac9b484"),h=h(),le(),h),ge={class:"chuckSearch"},Ve={class:"inner"},ye=Ce(()=>y("i",{class:"iconfont icon-search"},null,-1)),be=["value","placeholder"],$e={name:"ChuckSearch"},Be=U({...$e,props:{modelValue:{},placeholder:{default:"请输入搜索关键词"}},emits:["update:modelValue"],setup(h,{emit:a}){const c=h,s=l=>{a("update:modelValue",l.target.value)};return(l,r)=>(f(),C("div",ge,[y("div",Ve,[ye,y("input",{type:"text",onInput:s,value:c.modelValue,placeholder:l.placeholder},null,40,be)])]))}});const H=E(Be,[["__scopeId","data-v-bac9b484"]]),Ie={class:"chuckCascaderList"},we={key:0,class:"iconfont icon-down"},Oe={key:1,class:"iconfont icon-upward"},Se={class:"btns"},Ue={name:"ChuckCascader"},Ne=U({...Ue,props:{multiple:{type:Boolean,default:!1},options:{},color:{default:"#1989fa"},title:{default:"请选择"},modelValue:{},height:{default:"250px"},zIndex:{default:2023},filterable:{type:Boolean,default:!0}},emits:["update:modelValue","update:value","confirm"],setup(h,{emit:a}){const c=h,s=b(""),l=b(!1),r=I(()=>c.multiple?c.modelValue||[]:c.modelValue||""),v=I(()=>l.value||r.value.length?c.color:"#333"),d=I(()=>{const{value:e}=r;let o=A(c.options,!1,!1),n=e;return c.multiple||(n=[e]),n.map(t=>{p(o,t)}),n.map(t=>{m(o,t)}),o}),_=I(()=>u(c.options)),i=I(()=>V(s.value,d.value)),u=e=>{let o=[e],n=0;for(;o.length>0;){let t=[];const k=o.pop();(k==null?void 0:k.length)!==0&&(n++,k==null||k.forEach(B=>{B&&Array.isArray(B.children)&&(t=t.concat(...B.children))}),t.length>0&&o.push(t))}return n},$=()=>{let e=[];const o=n=>{n.map(t=>{t.checked?e.push(t):t.children&&o(t.children)})};return o(d.value),e},m=(e,o)=>{var n,t,k,B;for(let g in e){if(e[g].value===o)return[e[g]];if(e[g].children){let F=m(e[g].children??[],o);if(F!==void 0)return e[g].checked=((n=e[g].children)==null?void 0:n.filter(N=>N.checked).length)===((t=e[g].children)==null?void 0:t.length),e[g].childChecked=!!((k=e[g].children)!=null&&k.filter(N=>N.childChecked).length||(B=e[g].children)!=null&&B.filter(N=>N.checked).length&&!e[g].checked),F.concat(e[g])}}},p=(e,o)=>{for(let n in e){if(e[n].value===o)return e[n].checked=!0,e[n].children&&(e[n].children=A(e[n].children??[],!0,!1)),e[n];if(e[n].children){let t=p(e[n].children??[],o);if(t!==void 0)return t}}},V=(e,o)=>{let n=[];return o.forEach(t=>{if(t.label.indexOf(e)>-1)n.push(t);else if(t.children&&t.children.length>0){let k=V(e,t.children);if(k&&k.length>0){let B={...t,children:k};n.push(B)}}}),n},A=(e,o,n)=>e.map(t=>({...t,checked:o,childChecked:n,children:t.children?A(t.children,o,n):null})),M=e=>e.map(o=>(delete o.checked,delete o.childChecked,{...o,children:o.children?M(o.children):null})),G=e=>{if(c.multiple){e.children=e.children?A(e.children,e.checked,!1):null,m(d.value,e.value);const o=$(),n=o.map(t=>t.value);a("update:modelValue",n),a("update:value",n,M(o))}else a("update:modelValue",e.value),a("update:value",e.value,e)},x=()=>{l.value=!l.value},J=()=>{a("update:modelValue",null)},Q=()=>{x(),a("confirm")},W=(e=>{const o=b(null),n=t=>{const{target:k}=t;k.contains(o.value)&&e(t)};return ne(()=>{o&&document.addEventListener("click",n)}),ce(()=>{document.removeEventListener("click",n)}),o})(()=>{l.value=!1});return(e,o)=>{var n;return f(),C("div",{style:{position:"relative"},ref_key:"chuckCascader",ref:W},[y("div",Ie,[y("div",{class:"pullDownBtn",onClick:x,style:w(`color:${v.value}`)},[O(T((n=e.modelValue)!=null&&n.length?`${e.multiple?e.modelValue.length+"项":e.modelValue}`:e.title)+" ",1),l.value?(f(),C("i",Oe)):(f(),C("i",we))],4),oe(y("div",{class:"chuckCascader",style:w(`z-index:${e.zIndex}`)},[e.filterable?(f(),z(H,{key:0,modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=t=>s.value=t)},null,8,["modelValue"])):S("",!0),y("div",{class:"item",style:w(`height:${e.height}`)},[R(ke,{options:i.value,multiple:e.multiple,"active-id":-1,depth:_.value,onCheckChange:G,color:e.color,height:e.height},null,8,["options","multiple","depth","color","height"])],4),y("div",Se,[y("div",{class:"btnItem reset",onClick:J},"重置"),y("div",{class:"btnItem confirm",style:w(`background:${e.color}`),onClick:Q},"确定",4)])],4),[[te,l.value]])])],512)}}});const Le=E(Ne,[["__scopeId","data-v-3df44254"]]),Re=[Le,H,j,q],Ee=function(h){Re.forEach(a=>{h.component(a.name,a)})},Ae={install:Ee},K=ae(de);K.use(Ae);K.mount("#app");
